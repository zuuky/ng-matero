<page-header></page-header>

<div class="m-b-16">
  The following example uses
  <a href="https://ng-matero.github.io/extensions/select" target="_blank">
    <code>mtx-select</code></a> component of
  <a href="https://ng-matero.github.io/extensions/" target="_blank">Material Extensions
  </a>, it is a Material form field wrapper of <code>ng-select</code>.
</div>

<div class="matero-row" fxLayout="row wrap">
  <div class="matero-col" fxFlex="100" fxFlex.gt-sm="50">
    <mat-card>
      <mat-card-title>Data Source</mat-card-title>
      <div>
        <p>
          Most common case is showing data from backend
          API and with mtx-select this is extremely simple since you can bind directly to
          observable when using angular <b> | async</b> pipe
        </p>
        <mat-form-field class="w-full">
          <mat-label>select person</mat-label>
          <mtx-select [(ngModel)]="selectedPersonId" [items]="people$ | async" autofocus bindLabel="name"
                      bindValue="id">
          </mtx-select>
        </mat-form-field>
        Selected: {{selectedPersonId}}
        <mat-divider class="m-y-16" inset></mat-divider>

        <p>
          You can also set array of objects as items input
        </p>
        <mat-form-field class="w-full">
          <mat-label>select person</mat-label>
          <mtx-select [(ngModel)]="selectedPersonId2" [items]="people" bindLabel="name"
                      bindValue="id">
          </mtx-select>
        </mat-form-field>
        Selected: {{selectedPersonId2}}
        <mat-divider class="m-y-16" inset></mat-divider>

        <p>
          While array of objects is the most common items source, you may want to set simple array
          of strings,
          numbers, booleans
        </p>
        <mat-form-field class="w-full">
          <mat-label>select person</mat-label>
          <mtx-select [(ngModel)]="selectedSimpleItem" [items]="simpleItems">
          </mtx-select>
        </mat-form-field>
        Selected: {{selectedSimpleItem | json}}
        <mat-divider class="m-y-16" inset></mat-divider>

        <p>
          If you have simple use case, you can omit items array and bind options directly in html
          using
          <b>ng-option</b> component.
        </p>
        <button (click)="toggleDisabled()" class="m-b-8" color="primary" mat-raised-button
                type="button">
          Toggle option[1] disabled
        </button>

        <mat-form-field class="w-full">
          <mat-label>Select car</mat-label>
          <mtx-select [(ngModel)]="selectedCarId">
            <ng-option *ngFor="let car of cars" [disabled]="car.disabled" [value]="car.id">
              {{car.name}}</ng-option>
            <ng-option [value]="'custom'">Custom</ng-option>
          </mtx-select>
        </mat-form-field>

        Selected car ID: {{selectedCarId | json}}
      </div>
    </mat-card>
  </div>

  <div class="matero-col" fxFlex="100" fxFlex.gt-sm="50">
    <mat-card>
      <mat-card-title>Tags</mat-card-title>
      <div>
        <label>Default tags</label>
        <mat-form-field class="w-full">
          <mat-label>Select item</mat-label>
          <mtx-select [(ngModel)]="selectedCompany" [addTag]="true" [items]="[]">
          </mtx-select>
        </mat-form-field>

        <p>
          Selected value: {{selectedCompany | json}}
        </p>
        <mat-divider class="m-y-16" inset></mat-divider>

        <label>Custom tags</label>
        <mat-form-field class="w-full">
          <mat-label>Select item</mat-label>
          <mtx-select [(ngModel)]="selectedCompanyCustom" [addTag]="addTag" [hideSelected]="true" [items]="companies"
                      bindLabel="name" multiple="true">
          </mtx-select>
        </mat-form-field>

        <p>
          Selected value: {{selectedCompanyCustom | json}}
        </p>

        <mat-divider class="m-y-16" inset></mat-divider>

        <label>Server side tags</label>
        <mat-form-field class="w-full">
          <mat-label>Select item</mat-label>
          <mtx-select [(ngModel)]="selectedCompanyCustomPromise" [addTag]="addTagPromise" [items]="companies"
                      [loading]="loading"
                      bindLabel="name" multiple="true">

            <ng-template let-search="searchTerm" ng-tag-tmp>
              <b>create new</b>: {{search}}
            </ng-template>
          </mtx-select>
        </mat-form-field>

        <mat-divider class="m-y-16" inset></mat-divider>

        <label>Tagging without dropdown. Press enter to add item</label>
        <mat-form-field class="w-full">
          <mat-label>Select item</mat-label>
          <mtx-select [addTag]="true" [isOpen]="false" [items]="[]" [multiple]="true"
                      [selectOnTab]="true">
          </mtx-select>
        </mat-form-field>

      </div>
    </mat-card>
  </div>
</div>
